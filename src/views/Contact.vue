<template>
  <div class="pt-16">
    <!-- Hero Section -->
    <section class="section-padding bg-gradient-to-br from-cyan-50 to-blue-50">
      <div class="container-custom text-center">
        <h1 class="text-5xl md:text-6xl font-bold text-secondary-800 mb-6">
          –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏
        </h1>
        <p class="text-xl text-secondary-600 max-w-3xl mx-auto leading-relaxed">
          –ì–æ—Ç–æ–≤—ã –æ–±—Å—É–¥–∏—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç? –ú—ã –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∏–¥–µ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∑–∞–¥–∞—á. 
          –í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ –∏–ª–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ.
        </p>
      </div>
    </section>

    <!-- Contact Methods -->
    <section class="section-padding bg-white">
      <div class="container-custom">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
          <div class="text-center group">
            <div class="w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
              <span class="text-white text-2xl">üìß</span>
            </div>
            <h3 class="text-xl font-semibold text-secondary-800 mb-2">Email</h3>
            <a href="mailto:info@webstudio.com" class="text-primary-500 hover:text-primary-600 transition-colors duration-300">
              info@webstudio.com
            </a>
          </div>
          
          <div class="text-center group">
            <div class="w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
              <span class="text-white text-2xl">üì±</span>
            </div>
            <h3 class="text-xl font-semibold text-secondary-800 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω</h3>
            <a href="tel:+7555123456" class="text-primary-500 hover:text-primary-600 transition-colors duration-300">
              +7 (555) 123-45-67
            </a>
          </div>
          
          <div class="text-center group">
            <div class="w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
              <span class="text-white text-2xl">üìç</span>
            </div>
            <h3 class="text-xl font-semibold text-secondary-800 mb-2">–ê–¥—Ä–µ—Å</h3>
            <p class="text-secondary-600">–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123</p>
          </div>
        </div>

        <!-- Contact Form and Info -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
          <!-- Contact Form -->
          <div class="card">
            <h2 class="text-3xl font-bold text-secondary-800 mb-8">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
            <form @submit.prevent="submitForm" class="space-y-6">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-secondary-700 mb-2">–ò–º—è</label>
                  <input
                    v-model="form.name"
                    type="text"
                    required
                    class="input-field"
                    :class="{ 'border-red-500': errors.name }"
                    placeholder="–í–∞—à–µ –∏–º—è"
                  >
                  <p v-if="errors.name" class="text-red-500 text-sm mt-1">{{ errors.name }}</p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-secondary-700 mb-2">Email</label>
                  <input
                    v-model="form.email"
                    type="email"
                    required
                    class="input-field"
                    :class="{ 'border-red-500': errors.email }"
                    placeholder="your@email.com"
                  >
                  <p v-if="errors.email" class="text-red-500 text-sm mt-1">{{ errors.email }}</p>
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-secondary-700 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input
                  v-model="form.phone"
                  type="tel"
                  class="input-field"
                  placeholder="+7 (xxx) xxx-xx-xx"
                >
              </div>
              
              <div>
                <label class="block text-sm font-medium text-secondary-700 mb-2">–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞</label>
                <select v-model="form.projectType" class="input-field">
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞</option>
                  <option value="website">–í–µ–±-—Å–∞–π—Ç</option>
                  <option value="ecommerce">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</option>
                  <option value="mobile">–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                  <option value="design">–î–∏–∑–∞–π–Ω</option>
                  <option value="seo">SEO –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ</option>
                  <option value="support">–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞</option>
                  <option value="other">–î—Ä—É–≥–æ–µ</option>
                </select>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-secondary-700 mb-2">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                <textarea
                  v-model="form.message"
                  rows="5"
                  required
                  class="input-field resize-none"
                  :class="{ 'border-red-500': errors.message }"
                  placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ..."
                ></textarea>
                <p v-if="errors.message" class="text-red-500 text-sm mt-1">{{ errors.message }}</p>
              </div>
              
              <div class="flex items-center space-x-3">
                <input
                  v-model="form.agreement"
                  type="checkbox"
                  id="agreement"
                  required
                  class="w-4 h-4 text-primary-500 border-secondary-300 rounded focus:ring-primary-500"
                >
                <label for="agreement" class="text-sm text-secondary-600">
                  –°–æ–≥–ª–∞—Å–µ–Ω —Å <a href="#" class="text-primary-500 hover:text-primary-600">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                </label>
              </div>
              
              <button
                type="submit"
                :disabled="isSubmitting"
                class="w-full btn-primary"
                :class="{ 'opacity-50 cursor-not-allowed': isSubmitting }"
              >
                {{ isSubmitting ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ' }}
              </button>
            </form>
          </div>

          <!-- Additional Info -->
          <div class="space-y-8">
            <div class="card">
              <h3 class="text-2xl font-bold text-secondary-800 mb-4">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h3>
              <div class="space-y-3">
                <div class="flex justify-between">
                  <span class="text-secondary-600">–ü–Ω - –ü—Ç:</span>
                  <span class="font-medium text-secondary-800">9:00 - 18:00</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-secondary-600">–°–±:</span>
                  <span class="font-medium text-secondary-800">10:00 - 16:00</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-secondary-600">–í—Å:</span>
                  <span class="font-medium text-secondary-800">–í—ã—Ö–æ–¥–Ω–æ–π</span>
                </div>
              </div>
            </div>

            <div class="card">
              <h3 class="text-2xl font-bold text-secondary-800 mb-4">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h3>
              <div class="flex space-x-4">
                <a href="#" class="w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center text-white hover:bg-primary-600 transition-colors duration-300">
                  FB
                </a>
                <a href="#" class="w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center text-white hover:bg-primary-600 transition-colors duration-300">
                  TW
                </a>
                <a href="#" class="w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center text-white hover:bg-primary-600 transition-colors duration-300">
                  IG
                </a>
                <a href="#" class="w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center text-white hover:bg-primary-600 transition-colors duration-300">
                  LI
                </a>
              </div>
            </div>

            <div class="card">
              <h3 class="text-2xl font-bold text-secondary-800 mb-4">–ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å</h3>
              <p class="text-secondary-600 mb-4">
                –ù—É–∂–Ω–∞ —Å—Ä–æ—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è? –ó–≤–æ–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!
              </p>
              <a href="tel:+7555123456" class="btn-primary text-center block">
                –ü–æ–∑–≤–æ–Ω–∏—Ç—å —Å–µ–π—á–∞—Å
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Success Modal -->
    <div
      v-if="showSuccess"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"
      @click="showSuccess = false"
    >
      <div class="bg-white rounded-2xl p-8 max-w-md w-full text-center" @click.stop>
        <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-white text-2xl">‚úì</span>
        </div>
        <h3 class="text-2xl font-bold text-secondary-800 mb-2">–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</h3>
        <p class="text-secondary-600 mb-6">
          –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
        </p>
        <button @click="showSuccess = false" class="btn-primary">
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'
import axios from 'axios'

const isSubmitting = ref(false)
const showSuccess = ref(false)

const form = reactive({
  name: '',
  email: '',
  phone: '',
  projectType: '',
  message: '',
  agreement: false
})

const errors = reactive({
  name: '',
  email: '',
  message: ''
})

const validateForm = () => {
  errors.name = ''
  errors.email = ''
  errors.message = ''

  let isValid = true

  if (!form.name.trim()) {
    errors.name = '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è'
    isValid = false
  }

  if (!form.email.trim()) {
    errors.email = 'Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è'
    isValid = false
  } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(form.email)) {
    errors.email = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'
    isValid = false
  }

  if (!form.message.trim()) {
    errors.message = '–°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è'
    isValid = false
  }

  return isValid
}

const submitForm = async () => {
  if (!validateForm()) return

  isSubmitting.value = true

  try {
    // Simulate API call
    await new Promise(resolve => setTimeout(resolve, 2000))
    
    // Here you would typically send the form data to your API
    // await axios.post('/api/contact', form)
    
    console.log('Form submitted:', form)
    
    // Reset form
    Object.keys(form).forEach(key => {
      if (typeof form[key] === 'boolean') {
        form[key] = false
      } else {
        form[key] = ''
      }
    })
    
    showSuccess.value = true
  } catch (error) {
    console.error('Error submitting form:', error)
    alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.')
  } finally {
    isSubmitting.value = false
  }
}
</script>